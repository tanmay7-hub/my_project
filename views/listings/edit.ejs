<%=layout("layouts/boilerplate.ejs")%>
<body>
     <div class="row mt-3">
      <div class="col-8 offset-2">
        <h3>Edit your listing</h3>
      <form method="POST" action="/listing/<%=listingDetails._id%>?_method=PUT" novalidate class="needs-validation" enctype="multipart/form-data">
         <div class="mb-3">
        <label class="form-label" for="title">Title:</label>
        <input required type="text" id="title" class="form-control" value="<%=listingDetails.title%>"  name="listing[title]">
         <div class="valid-feedback">Looks good</div>
         <div class="invalid-feedback">Please enter a valid title</div>
      </div>
         <div class="mb-3">
        <label class="form-label" for="desc">Description:</label>
        <textarea  required  id="desc" class="form-control" name="listing[description]"><%=listingDetails.description%></textarea>
         <div class="valid-feedback">Looks good</div>
        <div class="invalid-feedback">Please enter a description</div>
      </div>
       <div class="mb-3">
                 <label for="category">Category</label>
                 <select name="listing[category]" class="form-control" required>
                    <option value="Trending">Trending</option>
                   <option value="Rooms">Rooms</option>
                   <option value="City">City</option>
                   <option value="Mountain">Mountain</option>
                   <option value="Castles">Castles</option>
                   <option value="Pools">Pools</option>
                   <option value="Camping">Camping</option>
                   <option value="Farms">Farms</option>
                     <option value="Arctic">Arctic</option>
                 </select>
           </div>
        
        
      <div class="mb-3 cols-6  " style="width:50%;">
            Original listing image: <br>
           <img src="<%=originalImageUrl%>" class="card-img-top show-img" >
      </div>
         <div class="mb-3">
        <label class="form-label" for="image">Upload new Image:</label>
        <input  type="file" id="image"  class="form-control"  name="listing[image]">
      </div>
        
        
       <div class="row">
            <div class="mb-3 col-md-4">
        <label class="form-label" for="price">price:</label>
        <input  id="price" type="number" class="form-control" value="<%=listingDetails.price%>" name="listing[price]" required>
        <div class="invalid-feedback">Price should be valid</div>
        <div class="valid-feedback"> looks good</div>
      </div>
        
       <div class="mb-3 col-md-8">
        <label class="form-label" for="country">Country:</label>
         <input required type="text" class="form-control" id="country" value="<%=listingDetails.country%>" name="listing[country]">
        <div class="invalid-feedback">Country should be valid</div>
        <div class="valid-feedback"> looks good</div>
        </div>
       </div>

         <div class="mb-3">
        <label class="form-label" for="location">location:</label>
         <input required type="text" class="form-control" id="location" value="<%=listingDetails.location%>"  name="listing[location]">
        <div class="invalid-feedback">Location should be valid</div>
        <div class="valid-feedback">looks good</div>
        </div>
       
        <button class="btn btn-dark edit-btn mt-3">Edit</button>
        
     

    </form>
      </div>
     </div>  
     <script src="/js/script.js"></script>
</body>
</html>